version: '2'

services:
  <%= serviceName %>:<% if (environment === 'debug') { %>
    image: <%= imageName %>:debug<% } else { %>
    image: <%= imageName %><% } %><% if (isWebProject && portNumber) { %>
    ports:
      - "<%= portNumber %>:<%= portNumber %>"<% } %><% if (environment === 'debug') { %><% if (volumeMap !== null) { %>
    volumes:
      - <%= volumeMap %><% } %><% if (projectType === 'dotnet') { %><% if (baseImageName === 'microsoft/dotnet:1.0.0-preview1') { %>
    environment:
      - REMOTE_DEBUGGING<% } %><% } %><% } %>
    labels:
      com.<%= imageName %>.environment: "<%= environment %>"
